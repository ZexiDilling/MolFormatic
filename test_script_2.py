import re

from extra_functions import unit_converter
import numpy as np


def testing(well_dict):

    groups = set()
    for wells in well_dict:
        group = well_dict[wells]["group"]
        groups.add(group)
    print(groups)


def dilution_list():
    stock = "10mM"
    max_concentration = "100uM"
    min_concentration = "1nM"
    dilutions_steps = 10
    dilutions_factor = 4
    echo_min = "2.5nL"
    final_vol = "12uL"

    dilution_dict[dilutions_steps] = {
        "concentration": conc,
        "dilution_sub_stock": sub_stock,
        "vol": vol,
    }


def calculate_dilution_series(stock, max_concentration, min_concentration, dilutions_steps,
                              dilutions_factor, echo_min, final_vol):
    stock_concentration_value = float(unit_converter(stock, old_unit_out=False, new_unit_out=False, as_list=True)[0])

    max_concentration_value = float(unit_converter(max_concentration, old_unit_out=False, new_unit_out=False, as_list=True)[0])

    min_concentration_value = float(unit_converter(min_concentration, old_unit_out=False, new_unit_out=False, as_list=True)[0])

    echo_min_volume_value = float(unit_converter(echo_min, old_unit_out=False, new_unit_out=False, as_list=True)[0])

    final_volume_value = float(unit_converter(final_vol, old_unit_out=False, new_unit_out=False, as_list=True)[0])

    concentration = np.linspace(min_concentration_value, max_concentration_value, dilutions_steps)

    # Add the minimum concentration at the end to include both endpoints
    for counter, count in enumerate(concentration):
        if counter > 0:
            diff = concentration[counter] - concentration[counter-1]
            print(diff)



    #
    #
    # dilution_factors = [dilutions_factor ** i for i in range(dilutions_steps)]
    #
    # conc_values = [max_concentration_value / factor for factor in dilution_factors]
    #
    # sub_stock_conc = [conc - min_concentration_value for conc in conc_values]
    # vol_sub_stock = [final_volume_value * conc / stock_concentration_value for conc in sub_stock_conc]
    # vol_fill = [final_volume_value - vol for vol in vol_sub_stock]
    #
    # dilution_dict = {}
    # for step in range(dilutions_steps):
    #     dilution_dict[step + 1] = {
    #         "concentration": {
    #             "value": conc_values[step]
    #         },
    #         "dilution_sub_stock": {
    #             "value": sub_stock_conc[step]
    #         },
    #         "vol_sub_stock": {
    #             "value": vol_sub_stock[step]
    #         },
    #         "vol_fill": {
    #             "value": vol_fill[step]
    #         }
    #     }
    #
    # return dilution_dict


if __name__ == "__main__":
    # well_dict = {385: {'group': 0, 'well_id': 'A1', 'state': 'empty', 'colour': '#1e0bc8'}, 386: {'group': 0, 'well_id': 'B1', 'state': 'empty', 'colour': '#1e0bc8'}, 387: {'group': 0, 'well_id': 'C1', 'state': 'empty', 'colour': '#1e0bc8'}, 388: {'group': 0, 'well_id': 'D1', 'state': 'empty', 'colour': '#1e0bc8'}, 389: {'group': 0, 'well_id': 'E1', 'state': 'empty', 'colour': '#1e0bc8'}, 390: {'group': 0, 'well_id': 'F1', 'state': 'empty', 'colour': '#1e0bc8'}, 391: {'group': 0, 'well_id': 'G1', 'state': 'empty', 'colour': '#1e0bc8'}, 392: {'group': 0, 'well_id': 'H1', 'state': 'empty', 'colour': '#1e0bc8'}, 393: {'group': 0, 'well_id': 'I1', 'state': 'empty', 'colour': '#1e0bc8'}, 394: {'group': 0, 'well_id': 'J1', 'state': 'empty', 'colour': '#1e0bc8'}, 395: {'group': 0, 'well_id': 'K1', 'state': 'empty', 'colour': '#1e0bc8'}, 396: {'group': 0, 'well_id': 'L1', 'state': 'empty', 'colour': '#1e0bc8'}, 397: {'group': 0, 'well_id': 'M1', 'state': 'empty', 'colour': '#1e0bc8'}, 398: {'group': 0, 'well_id': 'N1', 'state': 'empty', 'colour': '#1e0bc8'}, 399: {'group': 0, 'well_id': 'O1', 'state': 'empty', 'colour': '#1e0bc8'}, 400: {'group': 0, 'well_id': 'P1', 'state': 'empty', 'colour': '#1e0bc8'}, 401: {'group': 0, 'well_id': 'A2', 'state': 'empty', 'colour': '#1e0bc8'}, 402: {'group': 0, 'well_id': 'B2', 'state': 'minimum', 'colour': '#ff8000'}, 403: {'group': 0, 'well_id': 'C2', 'state': 'minimum', 'colour': '#ff8000'}, 404: {'group': 0, 'well_id': 'D2', 'state': 'minimum', 'colour': '#ff8000'}, 405: {'group': 0, 'well_id': 'E2', 'state': 'minimum', 'colour': '#ff8000'}, 406: {'group': 0, 'well_id': 'F2', 'state': 'minimum', 'colour': '#ff8000'}, 407: {'group': 0, 'well_id': 'G2', 'state': 'minimum', 'colour': '#ff8000'}, 408: {'group': 0, 'well_id': 'H2', 'state': 'minimum', 'colour': '#ff8000'}, 409: {'group': 0, 'well_id': 'I2', 'state': 'minimum', 'colour': '#ff8000'}, 410: {'group': 0, 'well_id': 'J2', 'state': 'minimum', 'colour': '#ff8000'}, 411: {'group': 0, 'well_id': 'K2', 'state': 'minimum', 'colour': '#ff8000'}, 412: {'group': 0, 'well_id': 'L2', 'state': 'minimum', 'colour': '#ff8000'}, 413: {'group': 0, 'well_id': 'M2', 'state': 'minimum', 'colour': '#ff8000'}, 414: {'group': 0, 'well_id': 'N2', 'state': 'minimum', 'colour': '#ff8000'}, 415: {'group': 0, 'well_id': 'O2', 'state': 'minimum', 'colour': '#ff8000'}, 416: {'group': 0, 'well_id': 'P2', 'state': 'empty', 'colour': '#1e0bc8'}, 417: {'group': 0, 'well_id': 'A3', 'state': 'empty', 'colour': '#1e0bc8'}, 418: {'group': 0, 'well_id': 'B3', 'state': 'max', 'colour': '#790dc1'}, 419: {'group': 0, 'well_id': 'C3', 'state': 'max', 'colour': '#790dc1'}, 420: {'group': 0, 'well_id': 'D3', 'state': 'max', 'colour': '#790dc1'}, 421: {'group': 0, 'well_id': 'E3', 'state': 'max', 'colour': '#790dc1'}, 422: {'group': 0, 'well_id': 'F3', 'state': 'max', 'colour': '#790dc1'}, 423: {'group': 0, 'well_id': 'G3', 'state': 'max', 'colour': '#790dc1'}, 424: {'group': 0, 'well_id': 'H3', 'state': 'max', 'colour': '#790dc1'}, 425: {'group': 0, 'well_id': 'I3', 'state': 'max', 'colour': '#790dc1'}, 426: {'group': 0, 'well_id': 'J3', 'state': 'max', 'colour': '#790dc1'}, 427: {'group': 0, 'well_id': 'K3', 'state': 'max', 'colour': '#790dc1'}, 428: {'group': 0, 'well_id': 'L3', 'state': 'max', 'colour': '#790dc1'}, 429: {'group': 0, 'well_id': 'M3', 'state': 'max', 'colour': '#790dc1'}, 430: {'group': 0, 'well_id': 'N3', 'state': 'max', 'colour': '#790dc1'}, 431: {'group': 0, 'well_id': 'O3', 'state': 'max', 'colour': '#790dc1'}, 432: {'group': 0, 'well_id': 'P3', 'state': 'empty', 'colour': '#1e0bc8'}, 433: {'group': 0, 'well_id': 'A4', 'state': 'empty', 'colour': '#1e0bc8'}, 434: {'group': 1, 'well_id': 'B4', 'state': 'sample', 'colour': '#11B4D4'}, 435: {'group': 1, 'well_id': 'C4', 'state': 'sample', 'colour': '#11B4D4'}, 436: {'group': 1, 'well_id': 'D4', 'state': 'sample', 'colour': '#11B4D4'}, 437: {'group': 1, 'well_id': 'E4', 'state': 'sample', 'colour': '#11B4D4'}, 438: {'group': 1, 'well_id': 'F4', 'state': 'sample', 'colour': '#11B4D4'}, 439: {'group': 1, 'well_id': 'G4', 'state': 'sample', 'colour': '#11B4D4'}, 440: {'group': 1, 'well_id': 'H4', 'state': 'sample', 'colour': '#11B4D4'}, 441: {'group': 1, 'well_id': 'I4', 'state': 'sample', 'colour': '#11B4D4'}, 442: {'group': 1, 'well_id': 'J4', 'state': 'sample', 'colour': '#11B4D4'}, 443: {'group': 1, 'well_id': 'K4', 'state': 'sample', 'colour': '#11B4D4'}, 444: {'group': 1, 'well_id': 'L4', 'state': 'sample', 'colour': '#11B4D4'}, 445: {'group': 8, 'well_id': 'M4', 'state': 'sample', 'colour': '#454b1b'}, 446: {'group': 8, 'well_id': 'N4', 'state': 'sample', 'colour': '#454b1b'}, 447: {'group': 8, 'well_id': 'O4', 'state': 'sample', 'colour': '#454b1b'}, 448: {'group': 0, 'well_id': 'P4', 'state': 'empty', 'colour': '#1e0bc8'}, 449: {'group': 0, 'well_id': 'A5', 'state': 'empty', 'colour': '#1e0bc8'}, 450: {'group': 1, 'well_id': 'B5', 'state': 'sample', 'colour': '#11B4D4'}, 451: {'group': 1, 'well_id': 'C5', 'state': 'sample', 'colour': '#11B4D4'}, 452: {'group': 1, 'well_id': 'D5', 'state': 'sample', 'colour': '#11B4D4'}, 453: {'group': 1, 'well_id': 'E5', 'state': 'sample', 'colour': '#11B4D4'}, 454: {'group': 1, 'well_id': 'F5', 'state': 'sample', 'colour': '#11B4D4'}, 455: {'group': 1, 'well_id': 'G5', 'state': 'sample', 'colour': '#11B4D4'}, 456: {'group': 1, 'well_id': 'H5', 'state': 'sample', 'colour': '#11B4D4'}, 457: {'group': 1, 'well_id': 'I5', 'state': 'sample', 'colour': '#11B4D4'}, 458: {'group': 1, 'well_id': 'J5', 'state': 'sample', 'colour': '#11B4D4'}, 459: {'group': 1, 'well_id': 'K5', 'state': 'sample', 'colour': '#11B4D4'}, 460: {'group': 1, 'well_id': 'L5', 'state': 'sample', 'colour': '#11B4D4'}, 461: {'group': 8, 'well_id': 'M5', 'state': 'sample', 'colour': '#454b1b'}, 462: {'group': 8, 'well_id': 'N5', 'state': 'sample', 'colour': '#454b1b'}, 463: {'group': 8, 'well_id': 'O5', 'state': 'sample', 'colour': '#454b1b'}, 464: {'group': 0, 'well_id': 'P5', 'state': 'empty', 'colour': '#1e0bc8'}, 465: {'group': 0, 'well_id': 'A6', 'state': 'empty', 'colour': '#1e0bc8'}, 466: {'group': 1, 'well_id': 'B6', 'state': 'sample', 'colour': '#11B4D4'}, 467: {'group': 1, 'well_id': 'C6', 'state': 'sample', 'colour': '#11B4D4'}, 468: {'group': 1, 'well_id': 'D6', 'state': 'sample', 'colour': '#11B4D4'}, 469: {'group': 1, 'well_id': 'E6', 'state': 'sample', 'colour': '#11B4D4'}, 470: {'group': 1, 'well_id': 'F6', 'state': 'sample', 'colour': '#11B4D4'}, 471: {'group': 1, 'well_id': 'G6', 'state': 'sample', 'colour': '#11B4D4'}, 472: {'group': 1, 'well_id': 'H6', 'state': 'sample', 'colour': '#11B4D4'}, 473: {'group': 1, 'well_id': 'I6', 'state': 'sample', 'colour': '#11B4D4'}, 474: {'group': 1, 'well_id': 'J6', 'state': 'sample', 'colour': '#11B4D4'}, 475: {'group': 1, 'well_id': 'K6', 'state': 'sample', 'colour': '#11B4D4'}, 476: {'group': 1, 'well_id': 'L6', 'state': 'sample', 'colour': '#11B4D4'}, 477: {'group': 8, 'well_id': 'M6', 'state': 'sample', 'colour': '#454b1b'}, 478: {'group': 8, 'well_id': 'N6', 'state': 'sample', 'colour': '#454b1b'}, 479: {'group': 8, 'well_id': 'O6', 'state': 'sample', 'colour': '#454b1b'}, 480: {'group': 0, 'well_id': 'P6', 'state': 'empty', 'colour': '#1e0bc8'}, 481: {'group': 0, 'well_id': 'A7', 'state': 'empty', 'colour': '#1e0bc8'}, 482: {'group': 2, 'well_id': 'B7', 'state': 'sample', 'colour': '#d54b28'}, 483: {'group': 2, 'well_id': 'C7', 'state': 'sample', 'colour': '#d54b28'}, 484: {'group': 2, 'well_id': 'D7', 'state': 'sample', 'colour': '#d54b28'}, 485: {'group': 2, 'well_id': 'E7', 'state': 'sample', 'colour': '#d54b28'}, 486: {'group': 2, 'well_id': 'F7', 'state': 'sample', 'colour': '#d54b28'}, 487: {'group': 2, 'well_id': 'G7', 'state': 'sample', 'colour': '#d54b28'}, 488: {'group': 2, 'well_id': 'H7', 'state': 'sample', 'colour': '#d54b28'}, 489: {'group': 2, 'well_id': 'I7', 'state': 'sample', 'colour': '#d54b28'}, 490: {'group': 2, 'well_id': 'J7', 'state': 'sample', 'colour': '#d54b28'}, 491: {'group': 2, 'well_id': 'K7', 'state': 'sample', 'colour': '#d54b28'}, 492: {'group': 2, 'well_id': 'L7', 'state': 'sample', 'colour': '#d54b28'}, 493: {'group': 8, 'well_id': 'M7', 'state': 'sample', 'colour': '#454b1b'}, 494: {'group': 8, 'well_id': 'N7', 'state': 'sample', 'colour': '#454b1b'}, 495: {'group': 8, 'well_id': 'O7', 'state': 'sample', 'colour': '#454b1b'}, 496: {'group': 0, 'well_id': 'P7', 'state': 'empty', 'colour': '#1e0bc8'}, 497: {'group': 0, 'well_id': 'A8', 'state': 'empty', 'colour': '#1e0bc8'}, 498: {'group': 2, 'well_id': 'B8', 'state': 'sample', 'colour': '#d54b28'}, 499: {'group': 2, 'well_id': 'C8', 'state': 'sample', 'colour': '#d54b28'}, 500: {'group': 2, 'well_id': 'D8', 'state': 'sample', 'colour': '#d54b28'}, 501: {'group': 2, 'well_id': 'E8', 'state': 'sample', 'colour': '#d54b28'}, 502: {'group': 2, 'well_id': 'F8', 'state': 'sample', 'colour': '#d54b28'}, 503: {'group': 2, 'well_id': 'G8', 'state': 'sample', 'colour': '#d54b28'}, 504: {'group': 2, 'well_id': 'H8', 'state': 'sample', 'colour': '#d54b28'}, 505: {'group': 2, 'well_id': 'I8', 'state': 'sample', 'colour': '#d54b28'}, 506: {'group': 2, 'well_id': 'J8', 'state': 'sample', 'colour': '#d54b28'}, 507: {'group': 2, 'well_id': 'K8', 'state': 'sample', 'colour': '#d54b28'}, 508: {'group': 2, 'well_id': 'L8', 'state': 'sample', 'colour': '#d54b28'}, 509: {'group': 8, 'well_id': 'M8', 'state': 'sample', 'colour': '#454b1b'}, 510: {'group': 8, 'well_id': 'N8', 'state': 'sample', 'colour': '#454b1b'}, 511: {'group': 8, 'well_id': 'O8', 'state': 'sample', 'colour': '#454b1b'}, 512: {'group': 0, 'well_id': 'P8', 'state': 'empty', 'colour': '#1e0bc8'}, 513: {'group': 0, 'well_id': 'A9', 'state': 'empty', 'colour': '#1e0bc8'}, 514: {'group': 2, 'well_id': 'B9', 'state': 'sample', 'colour': '#d54b28'}, 515: {'group': 2, 'well_id': 'C9', 'state': 'sample', 'colour': '#d54b28'}, 516: {'group': 2, 'well_id': 'D9', 'state': 'sample', 'colour': '#d54b28'}, 517: {'group': 2, 'well_id': 'E9', 'state': 'sample', 'colour': '#d54b28'}, 518: {'group': 2, 'well_id': 'F9', 'state': 'sample', 'colour': '#d54b28'}, 519: {'group': 2, 'well_id': 'G9', 'state': 'sample', 'colour': '#d54b28'}, 520: {'group': 2, 'well_id': 'H9', 'state': 'sample', 'colour': '#d54b28'}, 521: {'group': 2, 'well_id': 'I9', 'state': 'sample', 'colour': '#d54b28'}, 522: {'group': 2, 'well_id': 'J9', 'state': 'sample', 'colour': '#d54b28'}, 523: {'group': 2, 'well_id': 'K9', 'state': 'sample', 'colour': '#d54b28'}, 524: {'group': 2, 'well_id': 'L9', 'state': 'sample', 'colour': '#d54b28'}, 525: {'group': 8, 'well_id': 'M9', 'state': 'sample', 'colour': '#454b1b'}, 526: {'group': 8, 'well_id': 'N9', 'state': 'sample', 'colour': '#454b1b'}, 527: {'group': 8, 'well_id': 'O9', 'state': 'sample', 'colour': '#454b1b'}, 528: {'group': 0, 'well_id': 'P9', 'state': 'empty', 'colour': '#1e0bc8'}, 529: {'group': 0, 'well_id': 'A10', 'state': 'empty', 'colour': '#1e0bc8'}, 530: {'group': 3, 'well_id': 'B10', 'state': 'sample', 'colour': '#42B4D9'}, 531: {'group': 3, 'well_id': 'C10', 'state': 'sample', 'colour': '#42B4D9'}, 532: {'group': 3, 'well_id': 'D10', 'state': 'sample', 'colour': '#42B4D9'}, 533: {'group': 3, 'well_id': 'E10', 'state': 'sample', 'colour': '#42B4D9'}, 534: {'group': 3, 'well_id': 'F10', 'state': 'sample', 'colour': '#42B4D9'}, 535: {'group': 3, 'well_id': 'G10', 'state': 'sample', 'colour': '#42B4D9'}, 536: {'group': 3, 'well_id': 'H10', 'state': 'sample', 'colour': '#42B4D9'}, 537: {'group': 3, 'well_id': 'I10', 'state': 'sample', 'colour': '#42B4D9'}, 538: {'group': 3, 'well_id': 'J10', 'state': 'sample', 'colour': '#42B4D9'}, 539: {'group': 3, 'well_id': 'K10', 'state': 'sample', 'colour': '#42B4D9'}, 540: {'group': 3, 'well_id': 'L10', 'state': 'sample', 'colour': '#42B4D9'}, 541: {'group': 8, 'well_id': 'M10', 'state': 'sample', 'colour': '#454b1b'}, 542: {'group': 8, 'well_id': 'N10', 'state': 'sample', 'colour': '#454b1b'}, 543: {'group': 8, 'well_id': 'O10', 'state': 'sample', 'colour': '#454b1b'}, 544: {'group': 0, 'well_id': 'P10', 'state': 'empty', 'colour': '#1e0bc8'}, 545: {'group': 0, 'well_id': 'A11', 'state': 'empty', 'colour': '#1e0bc8'}, 546: {'group': 3, 'well_id': 'B11', 'state': 'sample', 'colour': '#42B4D9'}, 547: {'group': 3, 'well_id': 'C11', 'state': 'sample', 'colour': '#42B4D9'}, 548: {'group': 3, 'well_id': 'D11', 'state': 'sample', 'colour': '#42B4D9'}, 549: {'group': 3, 'well_id': 'E11', 'state': 'sample', 'colour': '#42B4D9'}, 550: {'group': 3, 'well_id': 'F11', 'state': 'sample', 'colour': '#42B4D9'}, 551: {'group': 3, 'well_id': 'G11', 'state': 'sample', 'colour': '#42B4D9'}, 552: {'group': 3, 'well_id': 'H11', 'state': 'sample', 'colour': '#42B4D9'}, 553: {'group': 3, 'well_id': 'I11', 'state': 'sample', 'colour': '#42B4D9'}, 554: {'group': 3, 'well_id': 'J11', 'state': 'sample', 'colour': '#42B4D9'}, 555: {'group': 3, 'well_id': 'K11', 'state': 'sample', 'colour': '#42B4D9'}, 556: {'group': 3, 'well_id': 'L11', 'state': 'sample', 'colour': '#42B4D9'}, 557: {'group': 8, 'well_id': 'M11', 'state': 'sample', 'colour': '#454b1b'}, 558: {'group': 8, 'well_id': 'N11', 'state': 'sample', 'colour': '#454b1b'}, 559: {'group': 8, 'well_id': 'O11', 'state': 'sample', 'colour': '#454b1b'}, 560: {'group': 0, 'well_id': 'P11', 'state': 'empty', 'colour': '#1e0bc8'}, 561: {'group': 0, 'well_id': 'A12', 'state': 'empty', 'colour': '#1e0bc8'}, 562: {'group': 3, 'well_id': 'B12', 'state': 'sample', 'colour': '#42B4D9'}, 563: {'group': 3, 'well_id': 'C12', 'state': 'sample', 'colour': '#42B4D9'}, 564: {'group': 3, 'well_id': 'D12', 'state': 'sample', 'colour': '#42B4D9'}, 565: {'group': 3, 'well_id': 'E12', 'state': 'sample', 'colour': '#42B4D9'}, 566: {'group': 3, 'well_id': 'F12', 'state': 'sample', 'colour': '#42B4D9'}, 567: {'group': 3, 'well_id': 'G12', 'state': 'sample', 'colour': '#42B4D9'}, 568: {'group': 3, 'well_id': 'H12', 'state': 'sample', 'colour': '#42B4D9'}, 569: {'group': 3, 'well_id': 'I12', 'state': 'sample', 'colour': '#42B4D9'}, 570: {'group': 3, 'well_id': 'J12', 'state': 'sample', 'colour': '#42B4D9'}, 571: {'group': 3, 'well_id': 'K12', 'state': 'sample', 'colour': '#42B4D9'}, 572: {'group': 3, 'well_id': 'L12', 'state': 'sample', 'colour': '#42B4D9'}, 573: {'group': 8, 'well_id': 'M12', 'state': 'sample', 'colour': '#454b1b'}, 574: {'group': 8, 'well_id': 'N12', 'state': 'sample', 'colour': '#454b1b'}, 575: {'group': 8, 'well_id': 'O12', 'state': 'sample', 'colour': '#454b1b'}, 576: {'group': 0, 'well_id': 'P12', 'state': 'empty', 'colour': '#1e0bc8'}, 577: {'group': 0, 'well_id': 'A13', 'state': 'empty', 'colour': '#1e0bc8'}, 578: {'group': 4, 'well_id': 'B13', 'state': 'sample', 'colour': '#a54b24'}, 579: {'group': 4, 'well_id': 'C13', 'state': 'sample', 'colour': '#a54b24'}, 580: {'group': 4, 'well_id': 'D13', 'state': 'sample', 'colour': '#a54b24'}, 581: {'group': 4, 'well_id': 'E13', 'state': 'sample', 'colour': '#a54b24'}, 582: {'group': 4, 'well_id': 'F13', 'state': 'sample', 'colour': '#a54b24'}, 583: {'group': 4, 'well_id': 'G13', 'state': 'sample', 'colour': '#a54b24'}, 584: {'group': 4, 'well_id': 'H13', 'state': 'sample', 'colour': '#a54b24'}, 585: {'group': 4, 'well_id': 'I13', 'state': 'sample', 'colour': '#a54b24'}, 586: {'group': 4, 'well_id': 'J13', 'state': 'sample', 'colour': '#a54b24'}, 587: {'group': 4, 'well_id': 'K13', 'state': 'sample', 'colour': '#a54b24'}, 588: {'group': 4, 'well_id': 'L13', 'state': 'sample', 'colour': '#a54b24'}, 589: {'group': 8, 'well_id': 'M13', 'state': 'sample', 'colour': '#454b1b'}, 590: {'group': 8, 'well_id': 'N13', 'state': 'sample', 'colour': '#454b1b'}, 591: {'group': 8, 'well_id': 'O13', 'state': 'sample', 'colour': '#454b1b'}, 592: {'group': 0, 'well_id': 'P13', 'state': 'empty', 'colour': '#1e0bc8'}, 593: {'group': 0, 'well_id': 'A14', 'state': 'empty', 'colour': '#1e0bc8'}, 594: {'group': 4, 'well_id': 'B14', 'state': 'sample', 'colour': '#a54b24'}, 595: {'group': 4, 'well_id': 'C14', 'state': 'sample', 'colour': '#a54b24'}, 596: {'group': 4, 'well_id': 'D14', 'state': 'sample', 'colour': '#a54b24'}, 597: {'group': 4, 'well_id': 'E14', 'state': 'sample', 'colour': '#a54b24'}, 598: {'group': 4, 'well_id': 'F14', 'state': 'sample', 'colour': '#a54b24'}, 599: {'group': 4, 'well_id': 'G14', 'state': 'sample', 'colour': '#a54b24'}, 600: {'group': 4, 'well_id': 'H14', 'state': 'sample', 'colour': '#a54b24'}, 601: {'group': 4, 'well_id': 'I14', 'state': 'sample', 'colour': '#a54b24'}, 602: {'group': 4, 'well_id': 'J14', 'state': 'sample', 'colour': '#a54b24'}, 603: {'group': 4, 'well_id': 'K14', 'state': 'sample', 'colour': '#a54b24'}, 604: {'group': 4, 'well_id': 'L14', 'state': 'sample', 'colour': '#a54b24'}, 605: {'group': 8, 'well_id': 'M14', 'state': 'sample', 'colour': '#454b1b'}, 606: {'group': 8, 'well_id': 'N14', 'state': 'sample', 'colour': '#454b1b'}, 607: {'group': 8, 'well_id': 'O14', 'state': 'sample', 'colour': '#454b1b'}, 608: {'group': 0, 'well_id': 'P14', 'state': 'empty', 'colour': '#1e0bc8'}, 609: {'group': 0, 'well_id': 'A15', 'state': 'empty', 'colour': '#1e0bc8'}, 610: {'group': 4, 'well_id': 'B15', 'state': 'sample', 'colour': '#a54b24'}, 611: {'group': 4, 'well_id': 'C15', 'state': 'sample', 'colour': '#a54b24'}, 612: {'group': 4, 'well_id': 'D15', 'state': 'sample', 'colour': '#a54b24'}, 613: {'group': 4, 'well_id': 'E15', 'state': 'sample', 'colour': '#a54b24'}, 614: {'group': 4, 'well_id': 'F15', 'state': 'sample', 'colour': '#a54b24'}, 615: {'group': 4, 'well_id': 'G15', 'state': 'sample', 'colour': '#a54b24'}, 616: {'group': 4, 'well_id': 'H15', 'state': 'sample', 'colour': '#a54b24'}, 617: {'group': 4, 'well_id': 'I15', 'state': 'sample', 'colour': '#a54b24'}, 618: {'group': 4, 'well_id': 'J15', 'state': 'sample', 'colour': '#a54b24'}, 619: {'group': 4, 'well_id': 'K15', 'state': 'sample', 'colour': '#a54b24'}, 620: {'group': 4, 'well_id': 'L15', 'state': 'sample', 'colour': '#a54b24'}, 621: {'group': 0, 'well_id': 'M15', 'state': 'sample', 'colour': '#ff00ff'}, 622: {'group': 0, 'well_id': 'N15', 'state': 'sample', 'colour': '#ff00ff'}, 623: {'group': 0, 'well_id': 'O15', 'state': 'sample', 'colour': '#ff00ff'}, 624: {'group': 0, 'well_id': 'P15', 'state': 'empty', 'colour': '#1e0bc8'}, 625: {'group': 0, 'well_id': 'A16', 'state': 'empty', 'colour': '#1e0bc8'}, 626: {'group': 5, 'well_id': 'B16', 'state': 'sample', 'colour': '#72B4DE'}, 627: {'group': 5, 'well_id': 'C16', 'state': 'sample', 'colour': '#72B4DE'}, 628: {'group': 5, 'well_id': 'D16', 'state': 'sample', 'colour': '#72B4DE'}, 629: {'group': 5, 'well_id': 'E16', 'state': 'sample', 'colour': '#72B4DE'}, 630: {'group': 5, 'well_id': 'F16', 'state': 'sample', 'colour': '#72B4DE'}, 631: {'group': 5, 'well_id': 'G16', 'state': 'sample', 'colour': '#72B4DE'}, 632: {'group': 5, 'well_id': 'H16', 'state': 'sample', 'colour': '#72B4DE'}, 633: {'group': 5, 'well_id': 'I16', 'state': 'sample', 'colour': '#72B4DE'}, 634: {'group': 5, 'well_id': 'J16', 'state': 'sample', 'colour': '#72B4DE'}, 635: {'group': 5, 'well_id': 'K16', 'state': 'sample', 'colour': '#72B4DE'}, 636: {'group': 5, 'well_id': 'L16', 'state': 'sample', 'colour': '#72B4DE'}, 637: {'group': 0, 'well_id': 'M16', 'state': 'sample', 'colour': '#ff00ff'}, 638: {'group': 0, 'well_id': 'N16', 'state': 'sample', 'colour': '#ff00ff'}, 639: {'group': 0, 'well_id': 'O16', 'state': 'sample', 'colour': '#ff00ff'}, 640: {'group': 0, 'well_id': 'P16', 'state': 'empty', 'colour': '#1e0bc8'}, 641: {'group': 0, 'well_id': 'A17', 'state': 'empty', 'colour': '#1e0bc8'}, 642: {'group': 5, 'well_id': 'B17', 'state': 'sample', 'colour': '#72B4DE'}, 643: {'group': 5, 'well_id': 'C17', 'state': 'sample', 'colour': '#72B4DE'}, 644: {'group': 5, 'well_id': 'D17', 'state': 'sample', 'colour': '#72B4DE'}, 645: {'group': 5, 'well_id': 'E17', 'state': 'sample', 'colour': '#72B4DE'}, 646: {'group': 5, 'well_id': 'F17', 'state': 'sample', 'colour': '#72B4DE'}, 647: {'group': 5, 'well_id': 'G17', 'state': 'sample', 'colour': '#72B4DE'}, 648: {'group': 5, 'well_id': 'H17', 'state': 'sample', 'colour': '#72B4DE'}, 649: {'group': 5, 'well_id': 'I17', 'state': 'sample', 'colour': '#72B4DE'}, 650: {'group': 5, 'well_id': 'J17', 'state': 'sample', 'colour': '#72B4DE'}, 651: {'group': 5, 'well_id': 'K17', 'state': 'sample', 'colour': '#72B4DE'}, 652: {'group': 5, 'well_id': 'L17', 'state': 'sample', 'colour': '#72B4DE'}, 653: {'group': 0, 'well_id': 'M17', 'state': 'sample', 'colour': '#ff00ff'}, 654: {'group': 0, 'well_id': 'N17', 'state': 'sample', 'colour': '#ff00ff'}, 655: {'group': 0, 'well_id': 'O17', 'state': 'sample', 'colour': '#ff00ff'}, 656: {'group': 0, 'well_id': 'P17', 'state': 'empty', 'colour': '#1e0bc8'}, 657: {'group': 0, 'well_id': 'A18', 'state': 'empty', 'colour': '#1e0bc8'}, 658: {'group': 5, 'well_id': 'B18', 'state': 'sample', 'colour': '#72B4DE'}, 659: {'group': 5, 'well_id': 'C18', 'state': 'sample', 'colour': '#72B4DE'}, 660: {'group': 5, 'well_id': 'D18', 'state': 'sample', 'colour': '#72B4DE'}, 661: {'group': 5, 'well_id': 'E18', 'state': 'sample', 'colour': '#72B4DE'}, 662: {'group': 5, 'well_id': 'F18', 'state': 'sample', 'colour': '#72B4DE'}, 663: {'group': 5, 'well_id': 'G18', 'state': 'sample', 'colour': '#72B4DE'}, 664: {'group': 5, 'well_id': 'H18', 'state': 'sample', 'colour': '#72B4DE'}, 665: {'group': 5, 'well_id': 'I18', 'state': 'sample', 'colour': '#72B4DE'}, 666: {'group': 5, 'well_id': 'J18', 'state': 'sample', 'colour': '#72B4DE'}, 667: {'group': 5, 'well_id': 'K18', 'state': 'sample', 'colour': '#72B4DE'}, 668: {'group': 5, 'well_id': 'L18', 'state': 'sample', 'colour': '#72B4DE'}, 669: {'group': 0, 'well_id': 'M18', 'state': 'sample', 'colour': '#ff00ff'}, 670: {'group': 0, 'well_id': 'N18', 'state': 'sample', 'colour': '#ff00ff'}, 671: {'group': 0, 'well_id': 'O18', 'state': 'sample', 'colour': '#ff00ff'}, 672: {'group': 0, 'well_id': 'P18', 'state': 'empty', 'colour': '#1e0bc8'}, 673: {'group': 0, 'well_id': 'A19', 'state': 'empty', 'colour': '#1e0bc8'}, 674: {'group': 6, 'well_id': 'B19', 'state': 'sample', 'colour': '#754b1f'}, 675: {'group': 6, 'well_id': 'C19', 'state': 'sample', 'colour': '#754b1f'}, 676: {'group': 6, 'well_id': 'D19', 'state': 'sample', 'colour': '#754b1f'}, 677: {'group': 6, 'well_id': 'E19', 'state': 'sample', 'colour': '#754b1f'}, 678: {'group': 6, 'well_id': 'F19', 'state': 'sample', 'colour': '#754b1f'}, 679: {'group': 6, 'well_id': 'G19', 'state': 'sample', 'colour': '#754b1f'}, 680: {'group': 6, 'well_id': 'H19', 'state': 'sample', 'colour': '#754b1f'}, 681: {'group': 6, 'well_id': 'I19', 'state': 'sample', 'colour': '#754b1f'}, 682: {'group': 6, 'well_id': 'J19', 'state': 'sample', 'colour': '#754b1f'}, 683: {'group': 6, 'well_id': 'K19', 'state': 'sample', 'colour': '#754b1f'}, 684: {'group': 6, 'well_id': 'L19', 'state': 'sample', 'colour': '#754b1f'}, 685: {'group': 0, 'well_id': 'M19', 'state': 'sample', 'colour': '#ff00ff'}, 686: {'group': 0, 'well_id': 'N19', 'state': 'sample', 'colour': '#ff00ff'}, 687: {'group': 0, 'well_id': 'O19', 'state': 'sample', 'colour': '#ff00ff'}, 688: {'group': 0, 'well_id': 'P19', 'state': 'empty', 'colour': '#1e0bc8'}, 689: {'group': 0, 'well_id': 'A20', 'state': 'empty', 'colour': '#1e0bc8'}, 690: {'group': 6, 'well_id': 'B20', 'state': 'sample', 'colour': '#754b1f'}, 691: {'group': 6, 'well_id': 'C20', 'state': 'sample', 'colour': '#754b1f'}, 692: {'group': 6, 'well_id': 'D20', 'state': 'sample', 'colour': '#754b1f'}, 693: {'group': 6, 'well_id': 'E20', 'state': 'sample', 'colour': '#754b1f'}, 694: {'group': 6, 'well_id': 'F20', 'state': 'sample', 'colour': '#754b1f'}, 695: {'group': 6, 'well_id': 'G20', 'state': 'sample', 'colour': '#754b1f'}, 696: {'group': 6, 'well_id': 'H20', 'state': 'sample', 'colour': '#754b1f'}, 697: {'group': 6, 'well_id': 'I20', 'state': 'sample', 'colour': '#754b1f'}, 698: {'group': 6, 'well_id': 'J20', 'state': 'sample', 'colour': '#754b1f'}, 699: {'group': 6, 'well_id': 'K20', 'state': 'sample', 'colour': '#754b1f'}, 700: {'group': 6, 'well_id': 'L20', 'state': 'sample', 'colour': '#754b1f'}, 701: {'group': 0, 'well_id': 'M20', 'state': 'sample', 'colour': '#ff00ff'}, 702: {'group': 0, 'well_id': 'N20', 'state': 'sample', 'colour': '#ff00ff'}, 703: {'group': 0, 'well_id': 'O20', 'state': 'sample', 'colour': '#ff00ff'}, 704: {'group': 0, 'well_id': 'P20', 'state': 'empty', 'colour': '#1e0bc8'}, 705: {'group': 0, 'well_id': 'A21', 'state': 'empty', 'colour': '#1e0bc8'}, 706: {'group': 6, 'well_id': 'B21', 'state': 'sample', 'colour': '#754b1f'}, 707: {'group': 6, 'well_id': 'C21', 'state': 'sample', 'colour': '#754b1f'}, 708: {'group': 6, 'well_id': 'D21', 'state': 'sample', 'colour': '#754b1f'}, 709: {'group': 6, 'well_id': 'E21', 'state': 'sample', 'colour': '#754b1f'}, 710: {'group': 6, 'well_id': 'F21', 'state': 'sample', 'colour': '#754b1f'}, 711: {'group': 6, 'well_id': 'G21', 'state': 'sample', 'colour': '#754b1f'}, 712: {'group': 6, 'well_id': 'H21', 'state': 'sample', 'colour': '#754b1f'}, 713: {'group': 6, 'well_id': 'I21', 'state': 'sample', 'colour': '#754b1f'}, 714: {'group': 6, 'well_id': 'J21', 'state': 'sample', 'colour': '#754b1f'}, 715: {'group': 6, 'well_id': 'K21', 'state': 'sample', 'colour': '#754b1f'}, 716: {'group': 6, 'well_id': 'L21', 'state': 'sample', 'colour': '#754b1f'}, 717: {'group': 0, 'well_id': 'M21', 'state': 'sample', 'colour': '#ff00ff'}, 718: {'group': 0, 'well_id': 'N21', 'state': 'sample', 'colour': '#ff00ff'}, 719: {'group': 0, 'well_id': 'O21', 'state': 'sample', 'colour': '#ff00ff'}, 720: {'group': 0, 'well_id': 'P21', 'state': 'empty', 'colour': '#1e0bc8'}, 721: {'group': 0, 'well_id': 'A22', 'state': 'empty', 'colour': '#1e0bc8'}, 722: {'group': 7, 'well_id': 'B22', 'state': 'sample', 'colour': '#A2B4E2'}, 723: {'group': 7, 'well_id': 'C22', 'state': 'sample', 'colour': '#A2B4E2'}, 724: {'group': 7, 'well_id': 'D22', 'state': 'sample', 'colour': '#A2B4E2'}, 725: {'group': 7, 'well_id': 'E22', 'state': 'sample', 'colour': '#A2B4E2'}, 726: {'group': 7, 'well_id': 'F22', 'state': 'sample', 'colour': '#A2B4E2'}, 727: {'group': 7, 'well_id': 'G22', 'state': 'sample', 'colour': '#A2B4E2'}, 728: {'group': 7, 'well_id': 'H22', 'state': 'sample', 'colour': '#A2B4E2'}, 729: {'group': 7, 'well_id': 'I22', 'state': 'sample', 'colour': '#A2B4E2'}, 730: {'group': 7, 'well_id': 'J22', 'state': 'sample', 'colour': '#A2B4E2'}, 731: {'group': 7, 'well_id': 'K22', 'state': 'sample', 'colour': '#A2B4E2'}, 732: {'group': 7, 'well_id': 'L22', 'state': 'sample', 'colour': '#A2B4E2'}, 733: {'group': 0, 'well_id': 'M22', 'state': 'sample', 'colour': '#ff00ff'}, 734: {'group': 0, 'well_id': 'N22', 'state': 'sample', 'colour': '#ff00ff'}, 735: {'group': 0, 'well_id': 'O22', 'state': 'sample', 'colour': '#ff00ff'}, 736: {'group': 0, 'well_id': 'P22', 'state': 'empty', 'colour': '#1e0bc8'}, 737: {'group': 0, 'well_id': 'A23', 'state': 'empty', 'colour': '#1e0bc8'}, 738: {'group': 7, 'well_id': 'B23', 'state': 'sample', 'colour': '#A2B4E2'}, 739: {'group': 7, 'well_id': 'C23', 'state': 'sample', 'colour': '#A2B4E2'}, 740: {'group': 7, 'well_id': 'D23', 'state': 'sample', 'colour': '#A2B4E2'}, 741: {'group': 7, 'well_id': 'E23', 'state': 'sample', 'colour': '#A2B4E2'}, 742: {'group': 7, 'well_id': 'F23', 'state': 'sample', 'colour': '#A2B4E2'}, 743: {'group': 7, 'well_id': 'G23', 'state': 'sample', 'colour': '#A2B4E2'}, 744: {'group': 7, 'well_id': 'H23', 'state': 'sample', 'colour': '#A2B4E2'}, 745: {'group': 7, 'well_id': 'I23', 'state': 'sample', 'colour': '#A2B4E2'}, 746: {'group': 7, 'well_id': 'J23', 'state': 'sample', 'colour': '#A2B4E2'}, 747: {'group': 7, 'well_id': 'K23', 'state': 'sample', 'colour': '#A2B4E2'}, 748: {'group': 7, 'well_id': 'L23', 'state': 'sample', 'colour': '#A2B4E2'}, 749: {'group': 0, 'well_id': 'M23', 'state': 'sample', 'colour': '#ff00ff'}, 750: {'group': 0, 'well_id': 'N23', 'state': 'sample', 'colour': '#ff00ff'}, 751: {'group': 0, 'well_id': 'O23', 'state': 'sample', 'colour': '#ff00ff'}, 752: {'group': 0, 'well_id': 'P23', 'state': 'empty', 'colour': '#1e0bc8'}, 753: {'group': 0, 'well_id': 'A24', 'state': 'empty', 'colour': '#1e0bc8'}, 754: {'group': 0, 'well_id': 'B24', 'state': 'empty', 'colour': '#1e0bc8'}, 755: {'group': 0, 'well_id': 'C24', 'state': 'empty', 'colour': '#1e0bc8'}, 756: {'group': 0, 'well_id': 'D24', 'state': 'empty', 'colour': '#1e0bc8'}, 757: {'group': 0, 'well_id': 'E24', 'state': 'empty', 'colour': '#1e0bc8'}, 758: {'group': 0, 'well_id': 'F24', 'state': 'empty', 'colour': '#1e0bc8'}, 759: {'group': 0, 'well_id': 'G24', 'state': 'empty', 'colour': '#1e0bc8'}, 760: {'group': 0, 'well_id': 'H24', 'state': 'empty', 'colour': '#1e0bc8'}, 761: {'group': 0, 'well_id': 'I24', 'state': 'empty', 'colour': '#1e0bc8'}, 762: {'group': 0, 'well_id': 'J24', 'state': 'empty', 'colour': '#1e0bc8'}, 763: {'group': 0, 'well_id': 'K24', 'state': 'empty', 'colour': '#1e0bc8'}, 764: {'group': 0, 'well_id': 'L24', 'state': 'empty', 'colour': '#1e0bc8'}, 765: {'group': 0, 'well_id': 'M24', 'state': 'empty', 'colour': '#1e0bc8'}, 766: {'group': 0, 'well_id': 'N24', 'state': 'empty', 'colour': '#1e0bc8'}, 767: {'group': 0, 'well_id': 'O24', 'state': 'empty', 'colour': '#1e0bc8'}, 768: {'group': 0, 'well_id': 'P24', 'state': 'empty', 'colour': '#1e0bc8'}}
    stock = "10mM"
    max_concentration = "90uM"
    min_concentration = "0.0015uM"
    # dilutions_steps = 10
    # dilutions_factor = 4
    echo_min = "2.5nL"
    final_vol = "12uL"
    # dilution_list(stock, max_concentration, min_concentration, echo_min, dilutions_factor, dilutions_steps, final_vol)
    test = unit_converter(final_vol)
    #
    #
    # print(test)

    # Test the function
    dilution_steps = 10
    dilution_factor = 4
    calculate_dilution_series(stock, max_concentration, min_concentration, dilution_steps, dilution_factor, echo_min, final_vol)
